{
    "location_functions": [
        {
            "type": "function",
            "function": {
                "name": "get_bounding_box",
                "description": "Convert a text address into a geographic bounding box. Returns coordinates that define the area's boundaries, useful for subsequent spatial queries.",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "address": {
                            "type": "string",
                            "description": "Text address to convert to geographic coordinates"
                        }
                    },
                    "required": ["address"]
                }
            }
        },
        {
            "type": "function",
            "function": {
                "name": "expand_bbox_with_radius",
                "description": "Expands a bounding box by a specified radius, or creates a bounding box around a point with given radius. Perfect for finding locations 'near', 'around', or 'within' a certain distance of a point or area. For example, finding all buildings within 5km of a location, or expanding a neighborhood's bounds by 2km to include nearby areas. The radius is applied in all directions.",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "input_type": {
                            "type": "string",
                            "description": "Type of input - either 'coordinates' or 'bbox'",
                            "enum": ["coordinates", "bbox"]
                        },
                        "coordinates": {
                            "type": "object",
                            "description": "Point coordinates (required if input_type is 'coordinates')",
                            "properties": {
                                "lat": {
                                    "type": "number",
                                    "description": "Latitude of the point (-90 to 90)"
                                },
                                "lon": {
                                    "type": "number",
                                    "description": "Longitude of the point (-180 to 180)"
                                }
                            },
                            "required": ["lat", "lon"]
                        },
                        "bbox": {
                            "type": "object",
                            "description": "Bounding box (required if input_type is 'bbox')",
                            "properties": {
                                "xmin": {
                                    "type": "number",
                                    "description": "Minimum longitude (-180 to 180)"
                                },
                                "ymin": {
                                    "type": "number",
                                    "description": "Minimum latitude (-90 to 90)"
                                },
                                "xmax": {
                                    "type": "number",
                                    "description": "Maximum longitude (-180 to 180)"
                                },
                                "ymax": {
                                    "type": "number",
                                    "description": "Maximum latitude (-90 to 90)"
                                }
                            },
                            "required": ["xmin", "ymin", "xmax", "ymax"]
                        },
                        "radius_km": {
                            "type": "number",
                            "description": "Radius in kilometers to expand the bounding box or create box around point",
                            "minimum": 0.1,
                            "maximum": 1000
                        },
                        "return_format": {
                            "type": "string",
                            "description": "Format of the returned bounding box",
                            "enum": ["bbox", "geojson"],
                            "default": "bbox"
                        }
                    },
                    "required": ["input_type", "radius_km"]
                }
            }
        },
        {
            "type": "function",
            "function": {
                "name": "get_bounding_box_from_coords",
                "description": "Convert a point location (latitude/longitude) into a geographic bounding box. Returns coordinates that define the area's boundaries, useful for subsequent spatial queries.",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "lat": {
                            "type": "number",
                            "description": "Latitude of the location (-90 to 90)"
                        },
                        "lon": {
                            "type": "number",
                            "description": "Longitude of the location (-180 to 180)"
                        }
                    },
                    "required": ["lat", "lon"]
                }
            }
        },
        {
            "type": "function",
            "function": {
                "name": "get_address_from_coords",
                "description": "Get address details from coordinates using reverse geocoding that is from the co ordinates",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "lat": {
                            "type": "number",
                            "description": "Latitude of the location"
                        },
                        "lon": {
                            "type": "number",
                            "description": "Longitude of the location"
                        }
                    },
                    "required": ["lat", "lon"]
                }
            }
        },
        {
            "type": "function",
            "function": {
                "name": "get_coords_from_address",
                "description": "Get coordinates from an address using forward geocoding",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "address": {
                            "type": "string",
                            "description": "Address to geocode"
                        }
                    },
                    "required": ["address"]
                }
            }
        },
        
        {
            "type": "function",
            "function": {
                "name": "execute_code",
                "description": "Execute custom Python code. The code can use pandas (pd) and numpy (np). You can create and execute custom functions to analyze data.",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "code": {
                            "type": "string",
                            "description": "Python code to execute. Can include function definitions and data analysis."
                        },
                        "data": {
                            "type": "object",
                            "description": "Optional dictionary containing data to be used by the code",
                            "additionalProperties": true
                        }
                    },
                    "required": ["code"]
                }
            }
        },
        {
            "type": "function",
            "function": {
                "name": "download_theme_type",
                "description": "Download data for a specific theme and type within a geographic bounding box.",
                "parameters": {
                    "type": "object",
                    "properties": {
                        "theme": {
                            "type": "string",
                            "description": "Theme name from Overture Maps",
                            "enum": ["buildings", "places", "transportation", "base", "divisions", "addresses"]
                        },
                        "tag": {
                            "type": "string",
                            "description": "Type/tag name within the theme",
                            "enum": [
                                "building", "building_part",
                                "place",
                                "segment", "connector",
                                "water", "land", "land_cover", "land_use", "infrastructure",
                                "division_area", "division_boundary",
                                "address"
                            ]
                        },
                        "bbox": {
                            "type": "object",
                            "description": "Bounding box coordinates",
                            "properties": {
                                "xmin": {
                                    "type": "number",
                                    "description": "Minimum longitude (-180 to 180)"
                                },
                                "ymin": {
                                    "type": "number",
                                    "description": "Minimum latitude (-90 to 90)"
                                },
                                "xmax": {
                                    "type": "number",
                                    "description": "Maximum longitude (-180 to 180)"
                                },
                                "ymax": {
                                    "type": "number",
                                    "description": "Maximum latitude (-90 to 90)"
                                }
                            },
                            "required": ["xmin", "ymin", "xmax", "ymax"]
                        },
                        "storage_path": {
                            "type": "string",
                            "description": "Optional path for storing downloaded data"
                        },
                        "max_size": {
                            "type": "integer",
                            "description": "Optional maximum file size in bytes"
                        }
                    },
                    "required": ["theme", "tag", "bbox"]
                }
            }
        }
    ]
} 