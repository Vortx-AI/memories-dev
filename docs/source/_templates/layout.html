{% extends "!layout.html" %}

{%- block extrahead %}
  {{ super() }}
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Memory Codex Documentation - Earth-grounded AI memory systems">
  <meta name="color-scheme" content="light">
  
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    /* Mobile navigation */
    @media screen and (max-width: 768px) {
      .wy-nav-content-wrap {
        margin-left: 0;
      }
      .wy-nav-side {
        left: -300px;
        transition: left 0.3s ease;
      }
      .wy-nav-side.shift {
        left: 0;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
      }
    }
  </style>
{% endblock %}

{%- block content %}
  {# Add chapter heading before content #}
  {% include "chapter_heading.html" %}
  {{ super() }}
{% endblock %}

{%- block footer %}
  {{ super() }}
  <script>
    // Simple script to improve mobile navigation
    document.addEventListener('DOMContentLoaded', function() {
      var menuButton = document.querySelector('.wy-nav-top i');
      if (menuButton) {
        menuButton.addEventListener('click', function() {
          document.querySelector('.wy-nav-side').classList.toggle('shift');
          document.querySelector('.wy-nav-content-wrap').classList.toggle('shift');
        });
      }
      
      // Close menu when clicking outside
      document.querySelector('.wy-nav-content-wrap').addEventListener('click', function() {
        if (document.querySelector('.wy-nav-side').classList.contains('shift')) {
          document.querySelector('.wy-nav-side').classList.remove('shift');
          document.querySelector('.wy-nav-content-wrap').classList.remove('shift');
        }
      });
    });
  </script>
{% endblock %} 