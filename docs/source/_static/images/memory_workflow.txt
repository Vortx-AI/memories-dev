sequenceDiagram
    participant U as User
    participant A as Agent
    participant STM as Short-term Memory
    participant WM as Working Memory
    participant LTM as Long-term Memory
    participant EM as Episodic Memory

    Note over U,EM: Memory Workflow in Memories-Dev

    U->>+A: Input Query
    A->>+STM: Process Input
    STM->>+WM: Activate Working Memory
    
    WM->>+LTM: Request Relevant Information
    LTM-->>-WM: Return Semantic Memories
    
    WM->>+EM: Request Related Episodes
    EM-->>-WM: Return Episodic Memories
    
    WM->>A: Provide Contextual Information
    A->>A: Generate Response
    A-->>-U: Deliver Response
    
    A->>+STM: Encode New Memory
    STM->>+WM: Process for Importance
    
    alt Important Memory
        WM->>+LTM: Store as Semantic Memory
        Note over WM,LTM: Knowledge is extracted and stored
        
        WM->>+EM: Store as Episodic Memory
        Note over WM,EM: Experience is recorded with temporal context
    else Routine Memory
        WM->>STM: Keep in Short-term Only
        Note over WM,STM: Will decay if not reinforced
    end
    
    Note over STM,EM: Periodic Consolidation Process
    LTM->>LTM: Consolidate Related Memories
    EM->>EM: Link Related Episodes
    LTM->>EM: Cross-reference Knowledge & Episodes 