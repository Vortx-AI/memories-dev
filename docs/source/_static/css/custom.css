/* Custom CSS for memories-dev documentation */

/* Book-like Typography and Layout */
:root {
    /* Enhanced book-like color palette */
    --text-color: #2d3748;
    --background-color: #f8f5f0;
    --link-color: #3182ce;
    --link-hover-color: #2c5282;
    --border-color: #e2d9d0;
    --heading-color: #1a365d;
    --code-background: #f0ece6;
    --sidebar-background: #eae3d9;
    --sidebar-width: 300px;
    
    /* Admonition colors */
    --admonition-note-color: #3182ce;
    --admonition-note-bg: #ebf8ff;
    --admonition-note-title-bg: #e6f6ff;
    
    --admonition-important-color: #c53030;
    --admonition-important-bg: #fef5f5;
    --admonition-important-title-bg: #feeaea;
    
    --admonition-tip-color: #2f855a;
    --admonition-tip-bg: #f0fff4;
    --admonition-tip-title-bg: #e6ffee;
    
    --admonition-warning-color: #c05621;
    --admonition-warning-bg: #fffaf0;
    --admonition-warning-title-bg: #fff5e6;
    
    --admonition-seealso-color: #2c7a7b;
    --admonition-seealso-bg: #e6fffa;
    --admonition-seealso-title-bg: #e6fff8;
    
    --admonition-hint-color: #6b46c1;
    --admonition-hint-bg: #faf5ff;
    --admonition-hint-title-bg: #f5eeff;
}

/* Base Typography */
body {
    font-family: "Crimson Pro", "Palatino Linotype", Palatino, Palladio, "URW Palladio L", "Book Antiqua", Baskerville, "Bookman Old Style", "Bitstream Charter", "Nimbus Roman No9 L", Garamond, "Apple Garamond", "ITC Garamond Narrow", "New Century Schoolbook", "Century Schoolbook", "Century Schoolbook L", Georgia, serif;
    font-size: 18px;
    line-height: 1.6;
    color: var(--text-color);
    background-color: var(--background-color);
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Content Layout */
.wy-nav-content {
    max-width: 42em !important;
    margin: 0 auto !important;
    padding: 3rem 2rem !important;
    background-color: var(--background-color);
}

.wy-nav-content-wrap {
    margin-left: var(--sidebar-width);
    background: var(--background-color);
}

/* Typography */
h1, h2, h3, h4, h5, h6 {
    font-family: "Crimson Pro", Georgia, serif;
    font-weight: 700;
    line-height: 1.2;
    margin: 2.5em 0 0.8em;
    color: var(--heading-color);
}

h1 {
    font-size: 2.5em;
    text-align: center;
    border-bottom: 2px solid var(--border-color);
    padding-bottom: 0.5em;
    margin-bottom: 1em;
}

h2 { 
    font-size: 1.75em;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 0.3em;
}

h3 { font-size: 1.5em; }
h4 { font-size: 1.25em; }

p {
    margin: 0 0 1.5em;
    text-align: justify;
    hyphens: auto;
}

/* Links */
a {
    color: var(--link-color);
    text-decoration: none;
    border-bottom: 1px solid transparent;
    transition: border-color 0.2s ease-in-out;
}

a:hover {
    color: var(--link-hover-color);
    border-bottom-color: var(--link-hover-color);
}

/* Navigation */
.wy-nav-side {
    width: var(--sidebar-width);
    background-color: var(--sidebar-background);
    border-right: 1px solid var(--border-color);
    padding: 2rem 0;
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    overflow-y: auto;
    overflow-x: hidden;
}

.wy-side-nav-search {
    background-color: transparent;
    border-bottom: 1px solid var(--border-color);
    padding: 1rem;
}

/* Admonition Styling for Book-like Appearance */
.admonition {
    margin: 2em 0;
    padding: 1.5em 1.5em 0.5em 1.5em;
    border-radius: 6px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    border-left-width: 6px;
    border-left-style: solid;
    font-family: "Crimson Pro", Georgia, serif;
    line-height: 1.6;
}

.admonition-title {
    margin: -1.5em -1.5em 1em -1.5em;
    padding: 0.75em 1em 0.75em 2.5em;
    font-weight: 600;
    font-size: 1.2em;
    position: relative;
    display: flex;
    align-items: center;
    border-top-left-radius: 6px;
    border-top-right-radius: 6px;
}

.admonition-title::before {
    font-family: "Font Awesome 5 Free";
    font-weight: 900;
    margin-right: 0.6em;
    font-size: 1.2em;
    position: absolute;
    left: 0.8em;
}

/* Note admonition */
.admonition.note {
    background-color: var(--admonition-note-bg);
    border-left-color: var(--admonition-note-border);
}

.admonition.note .admonition-title {
    background-color: var(--admonition-note-title-bg);
    color: var(--admonition-note-color);
}

.admonition.note .admonition-title::before {
    content: "\f05a";  /* Font Awesome info-circle icon */
}

/* Important admonition */
.admonition.important {
    background-color: var(--admonition-important-bg);
    border-left-color: var(--admonition-important-border);
}

.admonition.important .admonition-title {
    background-color: var(--admonition-important-title-bg);
    color: var(--admonition-important-color);
}

.admonition.important .admonition-title::before {
    content: "\f06a";  /* Font Awesome exclamation-circle icon */
}

/* Tip admonition */
.admonition.tip {
    background-color: var(--admonition-tip-bg);
    border-left-color: var(--admonition-tip-border);
}

.admonition.tip .admonition-title {
    background-color: var(--admonition-tip-title-bg);
    color: var(--admonition-tip-color);
}

.admonition.tip .admonition-title::before {
    content: "\f0eb";  /* Font Awesome lightbulb icon */
}

/* Warning admonition */
.admonition.warning {
    background-color: var(--admonition-warning-bg);
    border-left-color: var(--admonition-warning-border);
}

.admonition.warning .admonition-title {
    background-color: var(--admonition-warning-title-bg);
    color: var(--admonition-warning-color);
}

.admonition.warning .admonition-title::before {
    content: "\f071";  /* Font Awesome exclamation-triangle icon */
}

/* See Also admonition */
.admonition.seealso {
    background-color: var(--admonition-seealso-bg);
    border-left-color: var(--admonition-seealso-border);
}

.admonition.seealso .admonition-title {
    background-color: var(--admonition-seealso-title-bg);
    color: var(--admonition-seealso-color);
}

.admonition.seealso .admonition-title::before {
    content: "\f06e";  /* Font Awesome eye icon */
}

/* Hint admonition */
.admonition.hint {
    background-color: var(--admonition-hint-bg);
    border-left-color: var(--admonition-hint-border);
}

.admonition.hint .admonition-title {
    background-color: var(--admonition-hint-title-bg);
    color: var(--admonition-hint-color);
}

.admonition.hint .admonition-title::before {
    content: "\f0a1";  /* Font Awesome bullhorn icon */
}

/* Admonition content styling */
.admonition p {
    margin-bottom: 1em;
    line-height: 1.6;
}

.admonition ul, .admonition ol {
    margin: 0.8em 0 0.8em 1.2em;
    line-height: 1.6;
}

.admonition code {
    background-color: rgba(0, 0, 0, 0.05);
    padding: 0.2em 0.4em;
    border-radius: 3px;
    font-size: 0.9em;
}

.admonition pre {
    margin: 1em 0;
    padding: 1em;
    background-color: rgba(0, 0, 0, 0.05);
    border-radius: 4px;
    overflow-x: auto;
    font-size: 0.9em;
}

/* Dark mode adjustments for admonitions */
@media (prefers-color-scheme: dark) {
    .admonition {
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }
    
    .admonition code {
        background-color: rgba(255, 255, 255, 0.1);
    }
    
    .admonition pre {
        background-color: rgba(255, 255, 255, 0.05);
    }
}

/* Code blocks with enhanced styling */
pre, code {
    font-family: "Fira Code", "Source Code Pro", Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace;
    font-size: 0.9em;
    background-color: var(--code-background);
    border-radius: 0.25em;
}

pre {
    padding: 1em;
    margin: 1.5em 0;
    overflow: auto;
    border: 1px solid var(--border-color);
    line-height: 1.4;
}

code {
    padding: 0.2em 0.4em;
    white-space: pre-wrap;
}

/* Code block captions */
.code-block-caption {
    font-style: italic;
    font-size: 0.9em;
    text-align: center;
    color: var(--heading-color);
    margin-bottom: -1em;
    padding: 0.5em;
    border-bottom: 1px solid var(--border-color);
}

/* Emphasized lines in code blocks */
.highlight .hll {
    background-color: rgba(255, 255, 200, 0.4);
    display: block;
    margin: 0 -1em;
    padding: 0 1em;
    border-left: 3px solid #f6ad55;
}

/* Table styling */
table.docutils {
    border-collapse: collapse;
    margin: 1.5em 0;
    width: 100%;
    border: 1px solid var(--border-color);
}

table.docutils td, 
table.docutils th {
    padding: 0.75em 1em;
    border: 1px solid var(--border-color);
    text-align: left;
}

table.docutils thead th {
    background-color: var(--sidebar-background);
    font-weight: 700;
    border-bottom: 2px solid var(--border-color);
    color: var(--heading-color);
}

/* Dark theme adjustments */
@media (prefers-color-scheme: dark) {
    :root {
        /* Enhanced book-like dark theme palette */
        --text-color: #e2e8f0;
        --background-color: #1a202c;
        --link-color: #63b3ed;
        --link-hover-color: #90cdf4;
        --border-color: #4a5568;
        --heading-color: #e2e8f0;
        --code-background: #2d3748;
        --sidebar-background: #171923;
        
        /* Dark theme admonition colors - warmer tones */
        --admonition-note-color: #1a365d;
        --admonition-note-bg: #2b6cb0;
        --admonition-note-title-bg: #90cdf4;
        
        --admonition-important-color: #742a2a;
        --admonition-important-bg: #c53030;
        --admonition-important-title-bg: #fc8181;
        
        --admonition-tip-color: #1c4532;
        --admonition-tip-bg: #2f855a;
        --admonition-tip-title-bg: #9ae6b4;
        
        --admonition-warning-color: #652b19;
        --admonition-warning-bg: #c05621;
        --admonition-warning-title-bg: #fbd38d;
        
        --admonition-seealso-color: #1a4451;
        --admonition-seealso-bg: #2c7a7b;
        --admonition-seealso-title-bg: #81e6d9;
        
        --admonition-hint-color: #322659;
        --admonition-hint-bg: #6b46c1;
        --admonition-hint-title-bg: #d6bcfa;
    }
    
    /* Dark theme code highlighting */
    .highlight .hll {
        background-color: rgba(255, 255, 200, 0.1);
        border-left: 3px solid #ed8936;
    }
    
    /* Enhanced dark mode readability */
    body {
        color: var(--text-color);
        background-color: var(--background-color);
    }
    
    /* Improved dark mode code blocks */
    pre, code {
        background-color: var(--code-background);
        border-color: var(--border-color);
    }
    
    /* Dark mode table styling */
    table.docutils {
        border-color: var(--border-color);
    }
    
    table.docutils td, 
    table.docutils th {
        border-color: var(--border-color);
    }
    
    table.docutils thead th {
        background-color: #2d3748;
        color: var(--heading-color);
        border-bottom-color: var(--border-color);
    }
    
    /* Dark mode admonition enhancements */
    .admonition {
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
    }
    
    /* Improved dark mode navigation */
    .wy-nav-side {
        background-color: var(--sidebar-background);
    }
    
    .wy-side-nav-search {
        background-color: rgba(0, 0, 0, 0.2);
    }
    
    .wy-menu-vertical a {
        color: #d6d6d6;
    }
    
    .wy-menu-vertical li.current > a {
        background-color: rgba(255, 255, 255, 0.05);
        color: var(--link-color);
    }
    
    /* Dark mode headings with subtle underlines */
    h1, h2, h3, h4, h5, h6 {
        color: var(--heading-color);
    }
    
    h1 {
        border-bottom-color: var(--border-color);
    }
    
    h2 {
        border-bottom-color: var(--border-color);
    }
}

/* Keep the rest of the original CSS file below this line */

/* Reading Progress */
.reading-progress {
    position: fixed;
    top: 0;
    left: 0;
    width: 0;
    height: 3px;
    background: var(--link-color);
    z-index: 1000;
    transition: width 0.2s ease;
}

/* Code Blocks */
pre, code {
    font-family: "Source Code Pro", monospace;
    font-size: 0.9em;
    background-color: var(--code-background);
    border: 1px solid var(--border-color);
}

pre {
    padding: 1rem;
    margin: 1.5em 0;
    overflow-x: auto;
}

code {
    padding: 0.2em 0.4em;
}

/* Tables */
table.docutils {
    width: 100%;
    margin: 1.5em 0;
    border-collapse: collapse;
    border: 1px solid var(--border-color);
}

table.docutils td, 
table.docutils th {
    padding: 0.75rem;
    border: 1px solid var(--border-color);
}

table.docutils thead th {
    background-color: var(--sidebar-background);
    font-weight: 700;
    text-align: left;
}

/* Chapter Navigation */
.chapter-nav {
    margin-top: 4rem;
    padding-top: 2rem;
    border-top: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    font-family: "Crimson Pro", Georgia, serif;
    font-style: italic;
}

.prev-chapter::before {
    content: "←";
    margin-right: 0.5em;
}

.next-chapter::after {
    content: "→";
    margin-left: 0.5em;
}

/* Mobile Styles */
@media screen and (max-width: 768px) {
    :root {
        --sidebar-width: 100%;
    }

    .wy-nav-side {
        transform: translateX(-100%);
        transition: transform 0.3s ease;
    }
    
    .wy-nav-side.shift {
        transform: translateX(0);
    }
    
    .wy-nav-content-wrap {
        margin-left: 0 !important;
    }
    
    .wy-nav-content {
        padding: 1rem !important;
    }
}

/* Print Styles */
@media print {
    :root {
        --background-color: white;
        --text-color: black;
    }

    body {
        font-size: 12pt;
        line-height: 1.4;
    }

    .wy-nav-side, .reading-progress {
        display: none;
    }

    .wy-nav-content-wrap {
        margin: 0 !important;
    }

    .wy-nav-content {
        max-width: none !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    a {
        color: black;
    }

    pre, code {
        border: 1px solid #ccc;
        page-break-inside: avoid;
    }

    @page {
        margin: 2.5cm;
    }
}

/* Dark Theme */
@media (prefers-color-scheme: dark) {
    :root {
        --text-color: #e0e0e0;
        --background-color: #1a1a1a;
        --link-color: #63b3ed;
        --border-color: #404040;
        --heading-color: #e5e5e5;
        --code-background: #2d2d2d;
        --sidebar-background: #262626;
    }
}

/* Fix navigation UI issues */
.wy-nav-top {
    background-color: #0f172a; /* Match hero gradient start */
    color: white;
    z-index: 300; /* Ensure mobile nav is on top */
}

/* Improved dropdown color consistency */
.wy-dropdown-menu {
    background: #1e293b;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    border-radius: 4px;
}

.wy-dropdown-menu > a {
    color: #fff !important;
}

.wy-dropdown-menu > a:hover {
    background-color: #2c3e50 !important;
}

/* Fix for small screens */
@media screen and (max-width: 768px) {
    .wy-nav-side {
        width: 100%;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
        position: fixed;
        top: 0;
        height: 100%;
    }
    
    .wy-nav-side.shift {
        transform: translateX(0);
    }
    
    .wy-nav-content-wrap {
        margin-left: 0 !important;
        transition: transform 0.3s ease;
    }
    
    .wy-nav-content-wrap.shift {
        position: fixed;
        min-width: 100%;
        left: 85%;
        top: 0;
        height: 100%;
        overflow: hidden;
        transform: translateX(0);
    }
}

/* Fix for deep nested TOC to prevent depth issues */
.wy-menu-vertical li.toctree-l3,
.wy-menu-vertical li.toctree-l4,
.wy-menu-vertical li.toctree-l5 {
    font-size: 0.95em;
}

.wy-menu-vertical li.toctree-l2 {
    margin-bottom: 0.5em;
}

/* Only show deeper levels when parent is active to prevent UI clutter */
.wy-menu-vertical li.toctree-l2:not(.current) .toctree-l3,
.wy-menu-vertical li.toctree-l3:not(.current) .toctree-l4 {
    display: none;
}

/* Improve menu item appearance */
.wy-menu-vertical a {
    color: #d9d9d9;
    padding: 8px 16px 8px 24px;
    transition: background-color 0.2s ease, color 0.2s ease;
    font-weight: 500;
}

.wy-menu-vertical a:hover {
    background-color: rgba(255, 255, 255, 0.05);
    color: #ffffff;
    font-weight: 600;
}

.wy-menu-vertical li.current > a {
    background-color: rgba(255, 255, 255, 0.08);
    color: #ffffff;
    border-color: #3b82f6; /* Match button color */
    font-weight: 600;
}

/* Improve code blocks */
pre {
    background-color: #f8f8f8;
    border: 1px solid #e5e5e5;
    border-radius: 4px;
    padding: 12px;
    overflow-x: auto;
    font-size: 14px;
    margin: 16px 0;
}

code {
    background-color: #f8f8f8;
    border: 1px solid #e5e5e5;
    border-radius: 3px;
    padding: 2px 4px;
    font-size: 0.9em;
}

/* Better tables */
table.docutils {
    border-collapse: collapse;
    margin-bottom: 20px;
    width: 100%;
    border: 1px solid #e5e5e5;
}

table.docutils td, table.docutils th {
    padding: 8px;
    border: 1px solid #e5e5e5;
}

table.docutils thead th {
    background-color: #f5f5f5;
    font-weight: bold;
    text-align: left;
}

/* Fix for math display */
.math {
    overflow-x: auto;
    max-width: 100%;
    margin: 10px 0;
}

/* Lazy loading images */
img.lazy-load {
    opacity: 0;
    transition: opacity 0.3s;
    max-width: 100%;
    height: auto;
}

img.lazy-load.loaded {
    opacity: 1;
}

/* Improve buttons and links */
a.btn, .btn {
    display: inline-block;
    padding: 8px 16px;
    border-radius: 4px;
    margin: 4px 2px;
    font-weight: 500;
    text-align: center;
    text-decoration: none;
    cursor: pointer;
    border: none;
    transition: all 0.2s ease-in-out;
}

a.btn-primary, .btn-primary {
    background-color: #3b82f6;
    color: white;
}

a.btn-primary:hover, .btn-primary:hover {
    background-color: #2563eb;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);
}

a.btn-secondary, .btn-secondary {
    background-color: rgba(255, 255, 255, 0.1);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.2);
}

a.btn-secondary:hover, .btn-secondary:hover {
    background-color: rgba(255, 255, 255, 0.15);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Fix highlight section styles */
.highlight-section {
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    border-left: 4px solid #3b82f6;
    border-radius: 4px;
    overflow: hidden; /* Prevent border radius issues */
}

/* Fix code highlighting inconsistencies */
.highlight {
    background: #f8f9fa;
    border-radius: 4px;
}

.highlight pre {
    padding: 12px;
    font-size: 13px;
    line-height: 1.4;
}

/* Fix for copied button alignment */
.copybtn {
    position: absolute;
    top: 4px;
    right: 4px;
    z-index: 100;
}

/* Add smooth scrolling */
html {
    scroll-behavior: smooth;
}

/* Fix footer spacing and appearance */
footer {
    margin-top: 40px;
    color: #666;
    font-size: 14px;
}

footer p {
    margin-bottom: 10px;
}

/* Fix for progress tracker display */
.progress-tracker {
    margin: 20px 0;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    z-index: 50;
}

/* Hide "On This Page" section completely */

/* Adjust main content width */
.wy-nav-content {
    max-width: 1000px !important;
    margin: 0 auto !important;
    padding: 1.618em 3.236em !important;
    width: 100% !important;
    position: relative !important;
}

.wy-nav-content-wrap {
    margin-left: 300px !important;
    background: #fcfcfc !important;
}

/* Responsive adjustments */
@media screen and (max-width: 768px) {
    .wy-nav-content-wrap {
        margin-left: 0 !important;
    }
    
    .wy-nav-content {
        padding: 1em !important;
    }
}

/* Remove any potential "On This Page" remnants in dark theme */
html.dark-theme .contents.local,
html.dark-theme .contents.topic,
html.dark-theme [role="navigation"] .local {
    display: none !important;
    width: 0 !important;
    height: 0 !important;
}

/* Dark theme support */
html.dark-theme .wy-nav-content .contents.local {
    background: #2d333b;
    border-color: #444c56;
}

html.dark-theme .wy-nav-content .contents.local .topic-title {
    color: #e6edf3;
    border-bottom-color: #444c56;
}

html.dark-theme .wy-nav-content .contents.local a {
    color: #58a6ff;
}

html.dark-theme .wy-nav-content .contents.local a:hover {
    color: #79c0ff;
}

/* Enhanced Progress Tracker Styles */
.progress-tracker {
    position: sticky;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background-color: rgba(0, 0, 0, 0.05);
    z-index: 1000;
}

.progress-bar {
    height: 100%;
    background-color: #3b82f6;
    width: 0;
    transition: width 0.2s ease-out;
}

.progress-stats {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 8px 12px;
    border-radius: 4px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    font-size: 13px;
    color: #333;
    z-index: 1000;
    opacity: 0.8;
    transition: opacity 0.2s ease;
}

.progress-stats:hover {
    opacity: 1;
}

/* Dark Theme Support */
html.dark-theme body {
    color: #e0e0e0;
    background-color: #121212;
}

html.dark-theme .wy-nav-content {
    background-color: #1e1e1e;
    color: #e0e0e0;
}

html.dark-theme .wy-nav-side {
    background-color: #0f172a;
}

html.dark-theme .wy-side-nav-search {
    background-color: #0c1221;
}

html.dark-theme .wy-menu-vertical a {
    color: #f0f0f0;
    font-weight: 500;
}

html.dark-theme .wy-menu-vertical a:hover {
    color: #ffffff;
    font-weight: 600;
    background-color: #2c3e50;
}

html.dark-theme code {
    background-color: #2d2d2d;
    border-color: #444;
    color: #e0e0e0;
}

html.dark-theme pre {
    background-color: #2d2d2d;
    border-color: #444;
    color: #e0e0e0;
}

html.dark-theme .highlight {
    background-color: #2d2d2d;
}

html.dark-theme table.docutils td, 
html.dark-theme table.docutils th {
    border-color: #444;
}

html.dark-theme table.docutils thead th {
    background-color: #333;
}

html.dark-theme table.docutils {
    border-color: #444;
}

html.dark-theme a {
    color: #7eb6ff;
}

html.dark-theme .btn-primary {
    background-color: #2563eb;
}

html.dark-theme .progress-stats {
    background-color: rgba(30, 30, 30, 0.9);
    color: #e0e0e0;
}

/* Code Label Styles */
.code-label {
    display: block;
    padding: 5px 10px;
    background: rgba(0, 0, 0, 0.05);
    font-size: 12px;
    font-weight: bold;
    color: #666;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

html.dark-theme .code-label {
    background: rgba(255, 255, 255, 0.05);
    color: #aaa;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

/* Responsive Table Styles */
.table-container {
    width: 100%;
    overflow-x: auto;
    margin-bottom: 20px;
}

@media (max-width: 768px) {
    .table-container {
        -webkit-overflow-scrolling: touch;
        border-left: 1px solid #e5e5e5;
        border-right: 1px solid #e5e5e5;
        border-radius: 4px;
    }
    
    html.dark-theme .table-container {
        border-color: #444;
    }
}

/* Search Highlighting */
.search-highlight {
    background-color: rgba(255, 255, 0, 0.3);
    padding: 0 3px;
    border-radius: 3px;
}

html.dark-theme .search-highlight {
    background-color: rgba(255, 255, 0, 0.15);
    color: #ffff80;
}

/* Anchor Link Styles */
.headerlink {
    opacity: 0;
    margin-left: 0.5em;
    transition: opacity 0.2s ease;
    color: #3b82f6 !important;
    text-decoration: none !important;
}

.section h1:hover .headerlink, 
.section h2:hover .headerlink, 
.section h3:hover .headerlink,
.section h4:hover .headerlink,
.section h5:hover .headerlink,
.section h6:hover .headerlink {
    opacity: 1;
}

/* Theme Toggle Button */
.theme-toggle-container {
    position: absolute;
    top: 10px;
    right: 10px;
    z-index: 1001;
}

.theme-toggle-button {
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    color: white;
    font-size: 20px;
    transition: all 0.2s ease;
}

.theme-toggle-button:hover {
    transform: scale(1.1);
    box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
}

/* Active Section in Navigation */
.wy-menu-vertical li a.active-section {
    background-color: rgba(59, 130, 246, 0.1);
    color: #3b82f6;
    font-weight: bold;
}

html.dark-theme .wy-menu-vertical li a.active-section {
    background-color: rgba(59, 130, 246, 0.2);
    color: #7eb6ff;
}

/* Mermaid diagram improvements */
.mermaid {
  margin: 2rem auto;
  display: block;
  text-align: center;
  max-width: 100%;
  overflow-x: auto;
  background-color: #f8f9fa;
  padding: 1rem;
  border-radius: 5px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}

/* Dark mode support for Mermaid diagrams */
@media (prefers-color-scheme: dark) {
  .mermaid {
    background-color: #2d333b;
    filter: brightness(0.9) contrast(1.1);
  }
  
  .mermaid .label {
    color: #e6e6e6 !important;
    font-weight: 500;
  }
  
  .mermaid .node rect, 
  .mermaid .node circle, 
  .mermaid .node ellipse, 
  .mermaid .node polygon, 
  .mermaid .node path {
    stroke: #aaa !important;
  }
  
  .mermaid .edgePath .path {
    stroke: #d0d0d0 !important;
  }
}

html.dark-theme .mermaid {
  background-color: #2d333b;
  filter: brightness(0.9) contrast(1.1);
}

html.dark-theme .mermaid .label {
  color: #e6e6e6 !important;
  font-weight: 500;
}

html.dark-theme .mermaid .node rect, 
html.dark-theme .mermaid .node circle, 
html.dark-theme .mermaid .node ellipse, 
html.dark-theme .mermaid .node polygon, 
html.dark-theme .mermaid .node path {
  stroke: #aaa !important;
}

html.dark-theme .mermaid .edgePath .path {
  stroke: #d0d0d0 !important;
} 